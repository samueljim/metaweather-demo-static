'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a},api,url;api='https://www.metaweather.com/api/';var MetaWeather=function(a){this.apiUrl=api,this.proxy=a,this.q=function(b){return url=this.proxy+this.apiUrl+b,console.info('Reqesting '+url),new Promise(function(c,d){var f=!1;try{f=new XMLHttpRequest}catch(g){console.error(g)}f&&'withCredentials'in f?(console.info('it\'s a standard Cors request'),f.open('GET',url,!0),f.onload=function(){200<=this.status&&300>this.status?c(f):d({status:this.status,statusText:f.statusText})},f.onerror=function(){console.error('and something went wrong :( '),d({status:this.status,statusText:f.statusText})},f.send()):'undefined'==typeof XDomainRequest?console.error('there is no xhr support!'):(console.info('it\'s a IE Cors request'),f=new XDomainRequest,f.open('GET',url),f.onload=function(){this.readyState=4,this.onreadystatechange instanceof Function&&this.onreadystatechange(),200<=this.status&&300>this.status?c(f.response):d({status:this.status,statusText:f.statusText})},f.onerror=function(){console.error('and something went wrong :( '),d({status:this.status,statusText:f.statusText})},f.send())})}};MetaWeather.prototype.search=function(){var a=this;return{query:function query(b){return a.q('location/search/?query='+b)},latLon:function latLon(b){return'object'===('undefined'==typeof b?'undefined':_typeof(b))&&(b=b.lat+','+b.lon),a.q('location/search/?lattlong='+b)}}},MetaWeather.prototype.location=function(a,b){var c=this;return'undefined'==typeof b&&'number'==typeof a?c.q('location/'+a):('object'===('undefined'==typeof a?'undefined':_typeof(a))&&(b=a.date,a=a.woeid),'number'==typeof a&&'string'==typeof b)?c.q('location/'+a+'/'+b.replace(/\-/g,'/')):void 0};